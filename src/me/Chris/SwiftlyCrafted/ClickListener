package me.Chris.SwiftlyCrafted;

import java.util.ArrayList;
import java.util.Arrays;

import me.Chris.SwiftlyCrafted.Hub.main;

import org.bukkit.Bukkit;
import org.bukkit.ChatColor;
import org.bukkit.DyeColor;
import org.bukkit.Material;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.inventory.InventoryClickEvent;
import org.bukkit.inventory.Inventory;
import org.bukkit.inventory.ItemStack;
import org.bukkit.inventory.meta.ItemMeta;
import org.bukkit.material.Dye;
import org.bukkit.material.Wool;

public class ClickListener implements Listener {
	private final main plugin;
	public ClickListener(main Plugin) {
		this.plugin = Plugin;
	}
@EventHandler
	public void onClick(InventoryClickEvent e) {
		Player player = (Player) e.getWhoClicked(); 
		ItemStack item = e.getCurrentItem();
		if(item.getItemMeta().getDisplayName().equals(ChatColor.RED + "Back to Main Menu!")) {
			e.setCancelled(true);
			Inventory main = Bukkit.createInventory(null, 18, ChatColor.GREEN + "" + ChatColor.BOLD + "          Main menu");
			Dye orangedye = new Dye();
			orangedye.setColor(DyeColor.ORANGE);
			ItemStack odye = orangedye.toItemStack();
			ItemMeta oim = odye.getItemMeta();
			oim.setDisplayName(ChatColor.RED + "" + ChatColor.BOLD + "Gadget Menu");
			odye.setItemMeta(oim);
			main.setItem(6, odye);
			player.openInventory(main);
		}
		if(item.getItemMeta().getDisplayName().equals(ChatColor.RED + "" + ChatColor.BOLD + "Gadget Menu")) {
			e.setCancelled(true);
			Inventory itemsnone = Bukkit.createInventory(null, 45, ChatColor.GOLD + "" + ChatColor.BOLD + "          Gadget Menu");
			ItemStack tramp = new ItemStack(Material.RED_MUSHROOM);
		    ItemMeta trampim = tramp.getItemMeta();
		    trampim.setDisplayName(ChatColor.GRAY + "" + ChatColor.BOLD + "Trampoline! " + ChatColor.RED + "Not Bought");//This needs to go with config once we get it working where we click it
		    trampim.setLore(Arrays.asList(ChatColor.WHITE + "10000" + ChatColor.GREEN + "S"));
		    trampim.setLore(Arrays.asList(""));
		    trampim.setLore(Arrays.asList(ChatColor.WHITE + "Jump super high into the air and see the small"));
		    trampim.setLore(Arrays.asList(ChatColor.WHITE + "players running around like ants."));
		    trampim.setLore(Arrays.asList(""));
		    trampim.setLore(Arrays.asList(ChatColor.DARK_RED + "Left click " + ChatColor.WHITE + "to purchase."));
		    tramp.setItemMeta(trampim);
		    ItemStack bubble = new ItemStack(Material.DIAMOND_BARDING);
		    ItemMeta bubbleim = bubble.getItemMeta();
		    bubbleim.setDisplayName(ChatColor.AQUA + "" + ChatColor.BOLD + "Bubble Gun! " + ChatColor.RED + "Not Bought");
		    ArrayList<String> lines = new ArrayList<String>();
		    lines.add(ChatColor.WHITE + "5000" + ChatColor.GREEN + "S");
		    lines.add("");
		    lines.add(ChatColor.WHITE + "Shoot bubbles at players!");
		    lines.add("");
		    lines.add(ChatColor.DARK_RED + "Left click " + ChatColor.WHITE + "to purchase.");
		    bubbleim.setLore(lines);
		    bubble.setItemMeta(bubbleim);
		    ItemStack back = new ItemStack(Material.ARROW);
		    ItemMeta backim = back.getItemMeta();
		    backim.setDisplayName(ChatColor.RED + "Back to Main Menu!");
		    back.setItemMeta(backim);
		    ItemStack grenade = new ItemStack(Material.CLAY_BALL, 5);
		    ItemMeta grenadeim = grenade.getItemMeta();
		    grenadeim.setDisplayName(ChatColor.GREEN + "" + ChatColor.BOLD + "Grenades!" + ChatColor.RED + "Not Bought");
		    ArrayList<String> lore = new ArrayList<String>();
		    lore.add(ChatColor.WHITE + "250" + ChatColor.GREEN + "S" + ChatColor.WHITE + " (for 5)");
		    lore.add("");
		    lore.add(ChatColor.WHITE + "Throw grenades at unsuspecting enemies!");
		    lore.add(ChatColor.WHITE + "Military use only!");
		    lore.add("");
		    lore.add(ChatColor.DARK_RED + "Left click " + ChatColor.WHITE + "to purchase.");
		    grenadeim.setLore(lore);
		    grenade.setItemMeta(grenadeim);
		    Wool red = new Wool(DyeColor.RED);
		    ItemStack coin = red.toItemStack(1);
		    ItemMeta sunim = coin.getItemMeta();
		    sunim.setDisplayName(ChatColor.RED + "" + ChatColor.BOLD + "Coin Gadgets" + ChatColor.GRAY + " >");
		    coin.setItemMeta(sunim);
		    Wool orange = new Wool(DyeColor.ORANGE);
		    ItemStack ppu = orange.toItemStack(2);
		    ItemMeta ppuim = ppu.getItemMeta();
		    ppuim.setDisplayName(ChatColor.RED + "" + ChatColor.BOLD + "Pay Per Use" + ChatColor.GRAY + " >");
		    ppu.setItemMeta(ppuim);
		    Wool master = new Wool(DyeColor.YELLOW);
		    ItemStack mastero = master.toItemStack(3);
		    ItemMeta masterim = mastero.getItemMeta();
		    masterim.setDisplayName(ChatColor.RED + "" + ChatColor.BOLD + "Master+ Only" + ChatColor.GRAY + " >");
		    mastero.setItemMeta(masterim);
		    Wool Elitewool = new Wool(DyeColor.LIME);
		    ItemStack elite = Elitewool.toItemStack(4);
		    ItemMeta eliteim = elite.getItemMeta();
		    eliteim.setDisplayName(ChatColor.RED + "" + ChatColor.BOLD + "Elite Only!" + ChatColor.GRAY + " >");
		    elite.setItemMeta(eliteim);
		    Wool currentwool = new Wool(DyeColor.CYAN);
		    ItemStack current = currentwool.toItemStack();
		    ItemMeta currentim = current.getItemMeta();
		    currentim.setDisplayName(ChatColor.GOLD + "" + ChatColor.ITALIC + "Current Item:");
		    current.setItemMeta(currentim);
		    itemsnone.setItem(9, coin);
		    itemsnone.setItem(10, bubble);
		    itemsnone.setItem(11, tramp);
		    itemsnone.setItem(18, ppu);
		    itemsnone.setItem(19, grenade);
		    itemsnone.setItem(4, back);
		    itemsnone.setItem(36, current);
		    player.openInventory(itemsnone);
		}
		if(item.getItemMeta().getDisplayName().contains("S") || item.getItemMeta().getDisplayName().contains(">")) {
			e.setCancelled(true);
			player.openInventory(e.getInventory());
		}
	}
}
